var Speaker = require('audio-speaker/stream');
var Generator = require('audio-generator/stream');

function tone(fn, time, cb){
    var st = Generator(fn).pipe(Speaker({}));
    setTimeout(function(){
        st.end();
        if(cb) cb();
    }, time);
}


var quicklook = require('./quicklook');
quicklook([
    'bloat.jpg',
    'bely-g.jpg',
    'skew.jpg'
], {
    directory: '/Users/khrome/Pictures/desktops/', 
    fullscreen: true
}, function(){
 
    tone(function (time) {
        //panned unisson effect 
        var τ = Math.PI * 2;
        return [Math.sin(τ * time * 441), Math.sin(τ * time * 439)];
    }, 500, function(){
        
    })
})